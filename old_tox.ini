[tox]
envlist = py35
skipsdist = True

[testenv]
install_command = pip install --upgrade {opts} {packages}
commands =
    py.test {posargs}
deps = -rrequirements_dev.txt
       pytest-cov
       pytest-mock
       pytest-pep8
       pytest-timeout
setenv =
    DJANGO_SETTINGS_MODULE=tshape.settings

[pytest]
pep8maxlinelength = 110
clearcache = True
addopts = --maxfail=2 --pdb -s -l --color=yes -vv --ff --pep8 --durations=5 --cov-fail-under=0 --cov-config .coveragerc --cov=app tests/ src/
norecursedirs = .git tmp* .tox src/profiles/migrations src/skills/migrations src/skillsets/migrations src/users/migrations
python_files = test*.py
timeout = 60
